{% extends "base.html" %}

{% block content %}
<div class="dashboard-header d-flex justify-content-between align-items-center mb-4">
    <h1>Switch Ports Status</h1>
    <button id="refreshBtn" class="btn btn-secondary">
        <i data-feather="refresh-cw"></i> Refresh
    </button>
</div>

<div class="table-responsive">
    <table class="table table-hover">
        <thead>
            <tr>
                <th>Port</th>
                <th>Status</th>
                <th>VLAN</th>
                <th>Speed</th>
                <th>Duplex</th>
                <th>Description</th>
            </tr>
        </thead>
        <tbody id="portsTable">
            {% for port in ports %}
            <tr>
                <td>{{ port.name }}</td>
                <td>
                    <span class="status-indicator {% if port.status == 'connected' %}status-up{% else %}status-down{% endif %}">
                        {{ port.status }}
                    </span>
                </td>
                <td>{{ port.vlan }}</td>
                <td>{{ port.speed }}</td>
                <td>{{ port.duplex }}</td>
                <td>{{ port.description }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

<div id="loadingSpinner" class="text-center d-none">
    <div class="spinner-border text-primary" role="status">
        <span class="visually-hidden">Loading...</span>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/dashboard.js') }}"></script>
<script>
    feather.replace();
</script>
{% endblock %}
